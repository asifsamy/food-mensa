{"version":3,"sources":["components/Auth/AuthForm.module.css","components/Layout/HeaderCartButton.module.css","store/cart-context.js","components/Layout/Header.module.css","components/Layout/AdminNav.module.css","hooks/use-input.js","components/UI/FormFields/Input.js","components/Layout/Footer.module.css","components/UI/FormFields/Input.module.css","components/UI/LoadingSpinner.js","components/UI/LoadingSpinner.module.css","store/auth-context.js","components/Layout/Footer.js","assets/meal.jpg","components/Cart/CartIcon.js","components/Layout/HeaderCartButton.js","components/Layout/AdminNav.js","components/Layout/Header.js","components/Layout/Layout.js","components/Auth/AuthForm.js","pages/admin/AdminAuth.js","App.js","store/CartProvider.js","index.js"],"names":["module","exports","CartContext","React","createContext","items","totalAmount","cartIsVisible","addItem","item","removeItem","id","clearCart","cartVisibility","useInput","validationValue","initialValue","useState","enteredValue","setEnteredValue","isTouched","setIsTouched","valueIsValid","hasError","valueChangeHandler","event","target","value","inputBlurHandler","reset","isValid","Input","props","inputControlClasses","classes","control","errorStyling","invalid","className","htmlFor","label","type","onChange","onBlur","min","step","LoadingSpinner","spinner","logoutTimer","Footer","footer","content","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","cartCtx","useContext","numberOfItems","reduce","currNumber","amount","btnIsHighlighted","setBtnIsHighlighted","btnClasses","button","bump","useEffect","length","timer","setTimeout","clearTimeout","onClick","icon","badge","AuthContext","token","isLoggedIn","login","logout","calculateRemainingTime","expirationTime","currentTime","Date","getTime","AuthContextProvider","initialToken","tokenData","storedToken","localStorage","getItem","storedExpirationDate","remainingTime","duration","retreveStoredToken","setToken","userIsLoggedIn","logoutHnadler","useCallback","contextValue","setItem","Provider","children","AdminNav","authCtx","nav","activeClassName","active","to","Header","location","useLocation","adminUrl","test","pathname","header","src","headerImage","alt","Layout","showCart","onShowCart","isEmail","match","isValidPass","trim","AuthForm","isLogin","setIsLogin","emailValue","emailIsValid","emailHasError","emailChangeHandler","emailInputBlurHandler","passwordValue","passwordIsValid","passwordHasError","passwordChangeHandler","passwordBlurHandler","formIsValid","auth","onSubmit","preventDefault","url","apiKey","onConfirm","email","password","actions","disabled","toggle","prevState","authError","AdminAuth","history","useHistory","setAuthError","Helmet","name","inputObj","apiUrl","fetch","method","body","JSON","stringify","returnSecureToken","then","res","ok","json","data","Error","expiresIn","idToken","toISOString","replace","catch","err","message","Home","lazy","Orders","AllDishes","DishItemDetail","NotFound","App","fallback","path","exact","defaultCartState","cartReducer","state","action","updatedItems","updatedTotalAmount","price","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","existingItem","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce13f549.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__2JBom\",\"actions\":\"AuthForm_actions__e6wsK\",\"toggle\":\"AuthForm_toggle__z-O3F\",\"invalid\":\"AuthForm_invalid__1QPXQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"HeaderCartButton_button__bav88\",\"icon\":\"HeaderCartButton_icon__1Z-jY\",\"badge\":\"HeaderCartButton_badge__MhdS3\",\"bump\":\"HeaderCartButton_bump__38RaN\"};","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalAmount: 0,\r\n  cartIsVisible: false,\r\n  addItem: (item) => {},\r\n  removeItem: (id) => {},\r\n  clearCart: () => {},\r\n  cartVisibility: () => {},\r\n});\r\n\r\nexport default CartContext;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__30HSL\",\"header-fixed\":\"Header_header-fixed__3cJ-Z\",\"main-image\":\"Header_main-image__1fCRQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"AdminNav_nav__2tYF0\",\"active\":\"AdminNav_active__NQtk8\"};","import { useState } from \"react\";\r\n\r\nconst useInput = (validationValue, initialValue = \"\") => {\r\n  // console.log(\"initialValue: \" + initialValue);\r\n  const [enteredValue, setEnteredValue] = useState(initialValue);\r\n  const [isTouched, setIsTouched] = useState(false);\r\n\r\n  const valueIsValid = validationValue(enteredValue);\r\n  const hasError = !valueIsValid && isTouched;\r\n\r\n  const valueChangeHandler = (event) => {\r\n    setEnteredValue(event.target.value);\r\n  };\r\n\r\n  const inputBlurHandler = (event) => {\r\n    setIsTouched(true);\r\n  };\r\n\r\n  const reset = () => {\r\n    setEnteredValue(\"\");\r\n    setIsTouched(false);\r\n  };\r\n\r\n  return {\r\n    value: enteredValue,\r\n    isValid: valueIsValid,\r\n    hasError,\r\n    valueChangeHandler,\r\n    inputBlurHandler,\r\n    reset,\r\n  };\r\n};\r\n\r\nexport default useInput;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Input.module.css\";\r\n\r\nconst Input = (props) => {\r\n  // style class logic for displaying error message\r\n  const inputControlClasses = `${classes.control} ${\r\n    props.errorStyling ? classes.invalid : \"\"\r\n  }`;\r\n\r\n  return (\r\n    <div className={inputControlClasses}>\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      {props.type === \"textarea\" && (\r\n        <textarea\r\n          id={props.id}\r\n          value={props.value}\r\n          onChange={props.onChange}\r\n          onBlur={props.onBlur}\r\n        />\r\n      )}\r\n      {props.type === \"number\" && (\r\n        <input\r\n          id={props.id}\r\n          type={props.type}\r\n          value={props.value}\r\n          onChange={props.onChange}\r\n          onBlur={props.onBlur}\r\n          min={props.min}\r\n          step={props.step}\r\n          // max={props.max || \"\"}\r\n        />\r\n      )}\r\n      {props.type !== \"textarea\" && props.type !== \"number\" && (\r\n        <input\r\n          id={props.id}\r\n          type={props.type}\r\n          value={props.value}\r\n          onChange={props.onChange}\r\n          onBlur={props.onBlur}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Footer_footer__3Isg-\",\"content\":\"Footer_content__1KJdf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"control\":\"Input_control__XVcu-\",\"invalid\":\"Input_invalid__35Q5B\"};","import classes from \"./LoadingSpinner.module.css\";\r\n\r\nconst LoadingSpinner = () => {\r\n  return <div className={classes.spinner}></div>;\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"LoadingSpinner_spinner__3NKDv\"};","import React, { useCallback, useEffect, useState } from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nconst AuthContext = React.createContext({\r\n  token: \"\",\r\n  isLoggedIn: false,\r\n  login: (token) => {},\r\n  logout: () => {},\r\n});\r\n\r\nconst calculateRemainingTime = (expirationTime) => {\r\n  const currentTime = new Date().getTime();\r\n  const adjExpirationTime = new Date(expirationTime).getTime();\r\n\r\n  const remainingDuration = adjExpirationTime - currentTime;\r\n\r\n  return remainingDuration;\r\n};\r\n\r\nconst retreveStoredToken = () => {\r\n  const storedToken = localStorage.getItem(\"token\");\r\n  const storedExpirationDate = localStorage.getItem(\"expirationTime\");\r\n\r\n  const remainingTime = calculateRemainingTime(storedExpirationDate);\r\n\r\n  if (remainingTime <= 60000) {\r\n    // 60000 ms = 1m\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"expirationTime\");\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    token: storedToken,\r\n    duration: remainingTime,\r\n  };\r\n};\r\n\r\nexport const AuthContextProvider = (props) => {\r\n  const tokenData = retreveStoredToken();\r\n  let initialToken;\r\n  if (tokenData) {\r\n    initialToken = tokenData.token; // it could return undefined for the first render\r\n  }\r\n  const [token, setToken] = useState(initialToken);\r\n\r\n  const userIsLoggedIn = !!token;\r\n\r\n  const logoutHnadler = useCallback(() => {\r\n    setToken(null);\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"expirationTime\");\r\n\r\n    if (logoutTimer) {\r\n      clearTimeout(logoutTimer);\r\n    }\r\n  }, []);\r\n\r\n  const loginHandler = (token, expirationTime) => {\r\n    setToken(token);\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"expirationTime\", expirationTime);\r\n\r\n    const remainingTime = calculateRemainingTime(expirationTime);\r\n    logoutTimer = setTimeout(logoutHnadler, remainingTime);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (tokenData) {\r\n      //   console.log(tokenData.duration);\r\n      logoutTimer = setTimeout(logoutHnadler, tokenData.duration);\r\n    }\r\n  }, [tokenData, logoutHnadler]);\r\n\r\n  const contextValue = {\r\n    token: token,\r\n    isLoggedIn: userIsLoggedIn,\r\n    login: loginHandler,\r\n    logout: logoutHnadler,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthContext;\r\n","import classes from \"./Footer.module.css\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className={classes.footer}>\r\n      <p className={classes.content}>\r\n        Copyright Ⓒ 2022 Mensa. All rights reserved\r\n      </p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","export default __webpack_public_path__ + \"static/media/meal.38e0808c.jpg\";","const CartIcon = () => {\r\n  return (\r\n    <svg\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox=\"0 0 20 20\"\r\n      fill=\"currentColor\"\r\n    >\r\n      <path d=\"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\" />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CartIcon;\r\n","import { useContext, useEffect, useState } from \"react\";\r\nimport CartContext from \"../../store/cart-context\";\r\nimport CartIcon from \"../Cart/CartIcon\";\r\nimport classes from \"./HeaderCartButton.module.css\";\r\n\r\nconst HeaderCartButton = (props) => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  const numberOfItems = cartCtx.items.reduce((currNumber, item) => {\r\n    return currNumber + item.amount;\r\n  }, 0);\r\n\r\n  // In order to bump the Cart for any change\r\n  const [btnIsHighlighted, setBtnIsHighlighted] = useState(false);\r\n  const btnClasses = `${classes.button} ${\r\n    btnIsHighlighted ? classes.bump : \"\"\r\n  }`;\r\n  const { items } = cartCtx;\r\n  useEffect(() => {\r\n    if (items.length === 0) {\r\n      return;\r\n    }\r\n    setBtnIsHighlighted(true);\r\n\r\n    const timer = setTimeout(() => {\r\n      setBtnIsHighlighted(false);\r\n    }, 300);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [items]);\r\n\r\n  const cartShowHandler = () => {\r\n    // event.preventDefault();\r\n    cartCtx.cartVisibility();\r\n  };\r\n\r\n  return (\r\n    <button className={btnClasses} onClick={cartShowHandler}>\r\n      <span className={classes.icon}>\r\n        <CartIcon />\r\n      </span>\r\n      <span>Your Cart</span>\r\n      <span className={classes.badge}>{numberOfItems}</span>\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default HeaderCartButton;\r\n","import { useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\nimport classes from \"./AdminNav.module.css\";\r\n\r\nconst AdminNav = () => {\r\n  const authCtx = useContext(AuthContext);\r\n  const isLoggedIn = authCtx.isLoggedIn;\r\n\r\n  const logoutHandler = () => {\r\n    authCtx.logout();\r\n  };\r\n\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <ul>\r\n        {isLoggedIn && (\r\n          <li>\r\n            <NavLink activeClassName={classes.active} to=\"/admin/manage-orders\">\r\n              Manage Orders\r\n            </NavLink>\r\n          </li>\r\n        )}\r\n        {isLoggedIn && (\r\n          <li>\r\n            <NavLink activeClassName={classes.active} to=\"/admin/all-dishes\">\r\n              All Dishes\r\n            </NavLink>\r\n          </li>\r\n        )}\r\n        {isLoggedIn && (\r\n          <li>\r\n            <NavLink to=\"/admin\" onClick={logoutHandler}>\r\n              Logout\r\n            </NavLink>\r\n          </li>\r\n        )}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default AdminNav;\r\n","import { Fragment } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nimport classes from \"./Header.module.css\";\r\nimport headerImage from \"../../assets/meal.jpg\";\r\nimport HeaderCartButton from \"./HeaderCartButton\";\r\nimport AdminNav from \"./AdminNav\";\r\n\r\nconst Header = (props) => {\r\n  const location = useLocation();\r\n  const urlPattern = /admin+\\W*/; // logic might have error\r\n  const adminUrl = urlPattern.test(location.pathname);\r\n  // console.log(r.test(location.pathname));\r\n  return (\r\n    <Fragment>\r\n      <header\r\n        className={`${classes.header} ${\r\n          !adminUrl ? classes[\"header-fixed\"] : \"\"\r\n        }`}\r\n      >\r\n        <Link to=\"/\">\r\n          <h2>Mensa - Order Your Meal</h2>\r\n        </Link>\r\n        {adminUrl && <AdminNav />}\r\n        {!adminUrl && <HeaderCartButton />}\r\n      </header>\r\n      {!adminUrl && (\r\n        <div className={classes[\"main-image\"]}>\r\n          <img src={headerImage} alt=\"A dish of Buffe!\" />\r\n        </div>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { Fragment } from \"react\";\r\nimport Footer from \"./Footer\";\r\nimport Header from \"./Header\";\r\n\r\nconst Layout = (props) => {\r\n  return (\r\n    <Fragment>\r\n      <Header showCart={props.onShowCart} />\r\n      <main>{props.children}</main>\r\n      <Footer />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n","import { useState } from \"react\";\r\nimport useInput from \"../../hooks/use-input\";\r\nimport Input from \"../UI/FormFields/Input\";\r\nimport classes from \"./AuthForm.module.css\";\r\n\r\nconst isEmail = (value) =>\r\n  value.match(\r\n    /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n  );\r\nconst isValidPass = (value) => value.trim() !== \"\" && value.trim().length > 5;\r\n\r\nconst AuthForm = (props) => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n\r\n  const {\r\n    value: emailValue,\r\n    isValid: emailIsValid,\r\n    hasError: emailHasError,\r\n    valueChangeHandler: emailChangeHandler,\r\n    inputBlurHandler: emailInputBlurHandler,\r\n  } = useInput(isEmail);\r\n\r\n  const {\r\n    value: passwordValue,\r\n    isValid: passwordIsValid,\r\n    hasError: passwordHasError,\r\n    valueChangeHandler: passwordChangeHandler,\r\n    inputBlurHandler: passwordBlurHandler,\r\n  } = useInput(isValidPass);\r\n\r\n  const switchAuthModeHandler = () => {\r\n    setIsLogin((prevState) => !prevState);\r\n  };\r\n\r\n  let formIsValid = false;\r\n  if (emailIsValid && passwordIsValid) {\r\n    formIsValid = true;\r\n  }\r\n\r\n  const formSubmitHandler = (event) => {\r\n    event.preventDefault();\r\n    // if (!formIsValid) {\r\n    //   return;\r\n    // }\r\n\r\n    const apiKey = \"AIzaSyC8h6pqOPTYrV8wlv817cMUgebofmZT46c\";\r\n    let url;\r\n    if (isLogin) {\r\n      url = `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${apiKey}`;\r\n    } else {\r\n      url = `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${apiKey}`;\r\n    }\r\n    props.onConfirm(\r\n      {\r\n        email: emailValue,\r\n        password: passwordValue,\r\n      },\r\n      url\r\n    );\r\n  };\r\n\r\n  return (\r\n    <section className={classes.auth}>\r\n      <h1>{isLogin ? \"Login\" : \"Sign Up\"}</h1>\r\n      <form onSubmit={formSubmitHandler}>\r\n        <Input\r\n          label=\"Your Email\"\r\n          id=\"email\"\r\n          type=\"text\"\r\n          value={emailValue}\r\n          onChange={emailChangeHandler}\r\n          onBlur={emailInputBlurHandler}\r\n          errorStyling={emailHasError}\r\n        />\r\n        {emailHasError && (\r\n          <p className={classes.invalid}>Please enter a valid email!</p>\r\n        )}\r\n\r\n        <Input\r\n          label=\"Your Password\"\r\n          id=\"password\"\r\n          type=\"password\"\r\n          value={passwordValue}\r\n          onChange={passwordChangeHandler}\r\n          onBlur={passwordBlurHandler}\r\n          errorStyling={passwordHasError}\r\n        />\r\n        {passwordHasError && (\r\n          <p className={classes.invalid}>\r\n            Please enter a password at least 6 charecters!\r\n          </p>\r\n        )}\r\n\r\n        <div className={classes.actions}>\r\n          {/* {!isLoading && (\r\n            <button>{isLogin ? \"Login\" : \"Create Account\"}</button>\r\n          )}\r\n          {isLoading && <p>Sending request...</p>} */}\r\n          <button disabled={!formIsValid}>\r\n            {isLogin ? \"Login\" : \"Create Account\"}\r\n          </button>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className={classes.toggle}\r\n            onClick={switchAuthModeHandler}\r\n          >\r\n            {isLogin ? \"Create new account\" : \"Login with existing account\"}\r\n          </button>\r\n          {props.authError && (\r\n            <p className={classes.invalid}>{props.authError}</p>\r\n          )}\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import { Fragment, useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport AuthForm from \"../../components/Auth/AuthForm\";\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\nconst AdminAuth = () => {\r\n  const history = useHistory();\r\n  const [authError, setAuthError] = useState();\r\n  const authCtx = useContext(AuthContext);\r\n\r\n  const authenticationHandler = (inputObj, apiUrl) => {\r\n    fetch(apiUrl, {\r\n      method: \"POST\",\r\n      body: JSON.stringify({\r\n        email: inputObj.email,\r\n        password: inputObj.password,\r\n        returnSecureToken: true,\r\n      }),\r\n      header: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return res.json().then((data) => {\r\n            let errorMessage = \"Incorrect Email or Password!\";\r\n            // if (data && data.error && data.error.message) {\r\n            //   errorMessage = data.error.message;\r\n            // }\r\n            throw new Error(errorMessage);\r\n          });\r\n        }\r\n      })\r\n      .then((data) => {\r\n        // console.log(data);\r\n        const expirationTime = new Date(\r\n          new Date().getTime() + +data.expiresIn * 1000\r\n        );\r\n        authCtx.login(data.idToken, expirationTime.toISOString());\r\n        history.replace(\"/admin/manage-orders\");\r\n      })\r\n      .catch((err) => {\r\n        // alert(err.message);\r\n        setAuthError(err.message);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <Helmet>\r\n        <title>Food Mensa - Admin Authentication</title>\r\n        <meta name=\"description\" content=\"Admin Authentication\" />\r\n      </Helmet>\r\n      <AuthForm authError={authError} onConfirm={authenticationHandler} />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default AdminAuth;\r\n","import React, { useContext, Suspense } from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\n\nimport Layout from \"./components/Layout/Layout\";\n// import Home from \"./pages/customer/Home\";\nimport AdminAuth from \"./pages/admin/AdminAuth\";\nimport AuthContext from \"./store/auth-context\";\nimport LoadingSpinner from \"./components/UI/LoadingSpinner\";\n\nconst Home = React.lazy(() => import(\"./pages/customer/Home\"));\nconst Orders = React.lazy(() => import(\"./pages/admin/Orders\"));\nconst AllDishes = React.lazy(() => import(\"./pages/admin/AllDishes\"));\nconst DishItemDetail = React.lazy(() =>\n  import(\"./pages/customer/DishItemDetail\")\n);\nconst NotFound = React.lazy(() => import(\"./pages/customer/NotFound\"));\n\nfunction App() {\n  const authCtx = useContext(AuthContext);\n\n  return (\n    <Layout>\n      <Suspense\n        fallback={\n          <div className=\"centered\">\n            <LoadingSpinner />\n          </div>\n        }\n      >\n        <Switch>\n          <Route path=\"/\" exact>\n            <Home />\n          </Route>\n          <Route path=\"/admin\" exact>\n            {!authCtx.isLoggedIn && <AdminAuth />}\n            {authCtx.isLoggedIn && <Orders />}\n          </Route>\n          {authCtx.isLoggedIn && (\n            <Route path=\"/admin/manage-orders\">\n              <Orders />\n            </Route>\n          )}\n          {authCtx.isLoggedIn && (\n            <Route path=\"/admin/all-dishes\">\n              <AllDishes />\n            </Route>\n          )}\n          {authCtx.isLoggedIn && (\n            <Route path=\"/admin/*\">\n              <NotFound />\n            </Route>\n          )}\n          <Route path=\"/dishes/:dishId\">\n            <DishItemDetail />\n          </Route>\n          <Route>\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n      </Suspense>\n    </Layout>\n  );\n}\n\nexport default App;\n","import { useReducer } from \"react\";\r\nimport CartContext from \"./cart-context\";\r\n\r\nconst defaultCartState = {\r\n  items: [],\r\n  totalAmount: 0,\r\n  cartIsVisible: false,\r\n};\r\n\r\nconst cartReducer = (state, action) => {\r\n  if (action.type === \"ADD\") {\r\n    const updatedTotalAmount =\r\n      state.totalAmount + action.item.price * action.item.amount;\r\n\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.item.id\r\n    );\r\n    const existingCartItem = state.items[existingCartItemIndex];\r\n\r\n    let updatedItems;\r\n    if (existingCartItem) {\r\n      const updatedItem = {\r\n        ...existingCartItem,\r\n        amount: existingCartItem.amount + action.item.amount,\r\n      };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    } else {\r\n      updatedItems = state.items.concat(action.item);\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n      cartIsVisible: state.cartIsVisible,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"REMOVE\") {\r\n    const existingCartItemIndex = state.items.findIndex(\r\n      (item) => item.id === action.id\r\n    );\r\n    const existingItem = state.items[existingCartItemIndex];\r\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\r\n\r\n    let updatedItems;\r\n    if (existingItem.amount === 1) {\r\n      updatedItems = state.items.filter((item) => item.id !== action.id);\r\n    } else {\r\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\r\n      updatedItems = [...state.items];\r\n      updatedItems[existingCartItemIndex] = updatedItem;\r\n    }\r\n\r\n    return {\r\n      items: updatedItems,\r\n      totalAmount: updatedTotalAmount,\r\n      cartIsVisible: state.cartIsVisible,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"CLEAR\") {\r\n    return {\r\n      items: [],\r\n      totalAmount: 0,\r\n      cartIsVisible: state.cartIsVisible,\r\n    };\r\n  }\r\n\r\n  if (action.type === \"VISIBILITY\") {\r\n    return {\r\n      items: state.items,\r\n      totalAmount: state.totalAmount,\r\n      cartIsVisible: !state.cartIsVisible,\r\n    };\r\n  }\r\n\r\n  return defaultCartState;\r\n};\r\n\r\nconst CartProvider = (props) => {\r\n  const [cartState, dispatchCartAction] = useReducer(\r\n    cartReducer,\r\n    defaultCartState\r\n  );\r\n\r\n  const addItemToCartHandler = (item) => {\r\n    dispatchCartAction({ type: \"ADD\", item: item });\r\n  };\r\n\r\n  const removeItemFromCartHandler = (id) => {\r\n    dispatchCartAction({ type: \"REMOVE\", id: id });\r\n  };\r\n\r\n  const clearCartHandler = () => {\r\n    dispatchCartAction({ type: \"CLEAR\" });\r\n  };\r\n\r\n  const cartVisibleHandler = () => {\r\n    dispatchCartAction({ type: \"VISIBILITY\" });\r\n  };\r\n\r\n  const cartContext = {\r\n    items: cartState.items,\r\n    totalAmount: cartState.totalAmount,\r\n    cartIsVisible: cartState.cartIsVisible,\r\n    addItem: addItemToCartHandler,\r\n    removeItem: removeItemFromCartHandler,\r\n    clearCart: clearCartHandler,\r\n    cartVisibility: cartVisibleHandler,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport CartProvider from \"./store/CartProvider\";\nimport { AuthContextProvider } from \"./store/auth-context\";\n\nReactDOM.render(\n  <AuthContextProvider>\n    <CartProvider>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </CartProvider>\n  </AuthContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}