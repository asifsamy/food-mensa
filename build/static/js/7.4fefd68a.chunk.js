(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[7],{68:function(e,t,n){"use strict";var c=n(23),s=n(6),i=n(1),a=n(50),r=n(56),o=n(27),d=n(52),j=n(53),l=n.n(j),u=n(51),b=n(54),h=n(55),m=n.n(h),O=n(60),p=n(0),x=function(e){var t=Object(i.useState)(!0),n=Object(s.a)(t,2),c=n[0],r=n[1],j=Object(i.useState)(!1),h=Object(s.a)(j,2),x=h[0],f=h[1],v=Object(a.a)(),y=v.isLoading,N=v.error,g=v.sendRequest,C=function(){r(!1),f(!1),e.callNewDishState(!1)},w=function(t,n){f(!0);var c=n.name,s={id:c,name:t.name,description:t.description,price:t.price};e.onAddNewDishItem(s),console.log(c)},D=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({url:"https://mensa-app-80da4-default-rtdb.firebaseio.com/dishes.json",method:"POST",headers:{"Content-Type":"application/json"},body:{name:t.name,description:t.description,price:t.price}},w.bind(null,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)(O.a,{onConfirm:D}),Object(p.jsx)("div",{className:m.a.actions,children:Object(p.jsx)(u.a,{buttonStyle:"button--cancel",onClick:C,children:"Close"})})]}),F=Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)(o.a,{})}),k=Object(p.jsxs)(i.Fragment,{children:[Object(p.jsx)("p",{children:"A New Dish Item is added successfully! Reload the page to see changes!"}),Object(p.jsx)("div",{className:m.a.actions,children:Object(p.jsx)(u.a,{buttonStyle:"button--cancel",onClick:C,children:"Close"})})]}),I=Object(p.jsx)("div",{className:m.a.actions,children:Object(p.jsx)("p",{className:m.a.invalid,children:N})});return Object(p.jsx)("div",{children:c&&Object(p.jsxs)(b.a,{onClose:C,children:[!y&&!x&&S,y&&F,!y&&x&&k,N&&I]})})},f=n(57),v=n.n(f),y=n(62),N=n(3);t.a=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],d=t[1],j=Object(i.useState)(!1),l=Object(s.a)(j,2),u=l[0],b=l[1],h=Object(N.h)(),m=/admin+\W*/.test(h.pathname),O=Object(a.a)(),f=O.isLoading,g=O.error,C=O.sendRequest;Object(i.useEffect)((function(){C({url:"https://mensa-app-80da4-default-rtdb.firebaseio.com/dishes.json"},(function(e){var t=[];for(var n in e)t.push({id:n,name:e[n].name,description:e[n].description,price:e[n].price});d(t)}))}),[C]);var w=function(e){var t=Object(c.a)(n),s=n.findIndex((function(t){return t.id===e}));t.splice(s,1),d(t)},D=n.map((function(e){return Object(p.jsx)(y.a,{id:e.id,name:e.name,description:e.description,price:e.price,onDeleteItem:w},e.id)}));if(f)return Object(p.jsx)("section",{className:v.a.dishesLoading,children:Object(p.jsx)(o.a,{})});if(g)return Object(p.jsx)("section",{className:v.a.fetchDishesError,children:Object(p.jsx)("p",{children:g})});var S=Object(p.jsxs)(i.Fragment,{children:[u&&Object(p.jsx)(x,{onAddNewDishItem:function(e){d((function(t){return t.concat(e)}))},callNewDishState:b}),Object(p.jsx)("div",{className:"centered",children:Object(p.jsx)("button",{className:"uni-button",type:"button",onClick:function(){b(!0)},children:"Add a New Dish Item"})}),Object(p.jsx)("h2",{className:"centered",children:"All Available Dish Items"})]});return Object(p.jsxs)(i.Fragment,{children:[m&&S,Object(p.jsx)("section",{className:v.a.dishes,children:Object(p.jsx)(r.a,{children:Object(p.jsx)("ul",{children:D})})})]})}},74:function(e,t,n){e.exports={summary:"DishesSummary_summary__1VeKD"}},79:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n(28),i=n(70),a=n(68),r=n(74),o=n.n(r),d=n(0),j=function(){return Object(d.jsxs)("section",{className:o.a.summary,children:[Object(d.jsx)("h2",{children:"Your Food is Ready by Some Clicks"}),Object(d.jsx)("p",{children:"Choose your favorite dish from our broad selection of available dishes and enjoy a delicious lunch or dinner at home."}),Object(d.jsx)("p",{children:"All our dishes are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},l=function(){return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsx)(j,{}),Object(d.jsx)(a.a,{})]})},u=n(16);t.default=function(e){var t=Object(c.useContext)(u.a);return Object(d.jsxs)(c.Fragment,{children:[Object(d.jsxs)(s.a,{children:[Object(d.jsx)("title",{children:"Food Mensa - Home"}),Object(d.jsx)("meta",{name:"description",content:"Food Mensa. Order your meal and enjoy delicious food."})]}),t.cartIsVisible&&Object(d.jsx)(i.a,{hideCart:e.onHideCart}),Object(d.jsx)(l,{})]})}}}]);
//# sourceMappingURL=7.4fefd68a.chunk.js.map